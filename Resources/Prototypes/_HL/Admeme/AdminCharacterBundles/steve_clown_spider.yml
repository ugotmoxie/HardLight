# Steve is a space faring modified bug (not technically a spider) - they deal no damage but rather inject small amounts of omnizine
# however their bites also deal stamina damage, meaning theyre not the best front line healer
# they can survive and move in space, and have a passive healing equal to omnizine
# they were also given increased health - to help make them more durable, and to survive fire from ignorant scared crewmembers
# theyre designed not to be an atagonist, but rather a crew aligned companion
- type: entity
  id: MobClownSpiderSteveBug
  parent: [ SimpleMobBase, MobCombat ]
  name: Steve!
  description: A bug straight from the mines. Mascot of Steve Co.™  Isn't he just an adorable replacement for the clown?
  suffix: FoxS, Admin
  components:
  - type: Sprite
    drawdepth: SmallMobs
    layers:
    - map: ["enum.DamageStateVisualLayers.Base"]
      state: clown
      sprite: Mobs/Animals/clownspider.rsi
  - type: Butcherable
    spawned:
    - id: MaterialBananium1
      amount: 1
  - type: DamageStateVisuals
    states:
      Alive:
        Base: clown
      Critical:
        Base: dead
      Dead:
        Base: dead
  - type: MobThresholds
    thresholds:
      0: Alive
      270: Dead
  - type: Spider
    webPrototype: SpiderWebClown
    webAction: ActionSpiderWebSteveBug
  - type: MeleeWeapon
    altDisarm: false
    angle: 0
    animation: WeaponArcBite
    soundHit:
      collection: FootstepSlip
    damage:
      types:
        Piercing: 0
  - type: FootstepModifier
    footstepSoundCollection:
      collection: FootstepClownFast
      params:
        volume: -7
        variation: 0.02
  - type: Speech
    speechVerb: Cluwne
    speechSounds: Arachnid
    allowedEmotes:
    - Scream
    - Hiss
    - Laugh
    - Chitter
    - Click
    # - SteveBugWeh
    # - SteveBugHew
    - Honk
    - HarpyBeep
    - HarpyPew
    - Snarl
    - Bark
    - Whine
    - Howl
    - Awoo
    - Growl
    - Purr
    - Trill # avali sounds
    - Scree
    - Call
    - Squawk
  - type: Bloodstream
    bloodMaxVolume: 150
    bloodReagent: Laughter
  - type: Prying # Open door from xeno.yml.
    pryPowered: true
    force: true
    speedModifier: 5
    useSound:
      path: /Audio/Items/crowbar.ogg
  - type: PassiveDamage
    allowedStates:
    - Alive
    damageCap: 270
    damage:
      groups:
        Toxin: -1
        Airloss: -1
        Brute: -1.5
        Burn: -2
  - type: SolutionContainerManager
    solutions:
      melee:
        maxVol: 90
  - type: SolutionRegeneration
    solution: melee
    generated:
      reagents:
      - ReagentId: Omnizine
        Quantity: 0.5
  - type: MeleeChemicalInjector
    transferAmount: 5
    solution: melee
  - type: StaminaDamageOnHit
    damage: 35
  - type: MovementSpeedModifier
    baseSprintSpeed: 4
    baseWalkSpeed: 6
  - type: PressureImmunity
  - type: BreathingImmunity
  - type: ShowHealthIcons
  - type: ShowHealthBars
  - type: Temperature
    heatDamageThreshold: 500
    coldDamageThreshold: 0
  - type: MovementAlwaysTouching
  - type: Item
    size: Normal
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.2
        density: 100
        mask:
        - SmallMobMask
        layer:
        - SmallMobLayer
  # stuff from parent: MobSpiderBase
  - type: Carriable
  - type: Physics
  - type: CombatMode
  - type: Body
    prototype: AnimalHemocyanin
  - type: SurgeryTarget
  - type: UserInterface
    interfaces:
      enum.InstrumentUiKey.Key:
        type: InstrumentBoundUserInterface
      enum.SurgeryUIKey.Key:
        type: SurgeryBui
  - type: ReplacementAccent
    accent: xeno
  - type: InteractionPopup
    successChance: 0.5
    interactSuccessString: petting-success-tarantula
    interactFailureString: petting-failure-generic
    interactSuccessSpawn: EffectHearts
    interactSuccessSound:
      path: /Audio/Animals/snake_hiss.ogg
  - type: IgnoreSpiderWeb
  - type: NoSlip
  - type: Vocal
    sounds:
      Male: UnisexArachnidSteveBug
      Female: UnisexArachnidSteveBug
      Unsexed: UnisexArachnidSteveBug
  - type: TypingIndicator
    proto: spider
  - type: Tag
    tags:
    - FootstepSound
  # harpy singing stuff!
  - type: HarpySinger
  - type: Instrument
    allowPercussion: false
    program: 52
  - type: SwappableInstrument
    instrumentList:
      "Voice": {52: 0}
      "Trumpet": {56: 0}
      "Electric": {27: 0}
      "Bass": {33: 0}
      "Rock": {29: 0}
      "Acoustic": {24: 0}
      "Flute": {73: 0}
      "Sax": {66: 0}
      "Piano": {1: 0}
      "Church Organ": {19: 0}
      "Harp": {46: 0}
    onlySetBySelf: true
  - type: InstrumentVisuals
  - type: GenericVisualizer
    visuals:
      enum.InstrumentVisuals.Playing:
        enum.InstrumentVisuals.Layer:
          False: {visible: false}
          True: {visible: true}


- type: entity
  id: CrateToyBoxSteveBug
  parent: CrateToyBox
  name: steve co.™ bluespace delivery box
  description: A box overflowing with Steve.
  suffix: FoxS, Admin
  components:
  - type: StorageFill
    contents:
      - id: MobClownSpiderSteveBug
      - id: PaperSteveBugDelivery


- type: entity
  id: PaperSteveBugDelivery
  parent: Paper
  name: steve co.™ delivery paper
  description: A piece of white paper describing the contents of its box.
  suffix: FoxS, Admin
  components:
    - type: Paper
      content: "Steve the friendly clown-spider hails from the vibrant, jungle-covered planet of Zyphora, known for its diverse and peculiar fauna. Created by Dr. Nirou-Jol in ColComm's Xenobiology laboratories, he was designed as a cheerful mascot for the Steve Co brand, embodying a playful yet helpful spirit of service. Despite his small, canine-sized frame and clownish appearance—complete with bright colors and a tiny red nose—Steve is a biological marvel, delivered in a sturdy wooden box to various space stations. His communication is often telepathic due to his limited speech, but he's known for injecting small doses of omnizine via his bites, which slowly heals wounds, alongside dealing significant stamina damage to foes. As a science project and mascot, Steve combines his healing abilities with a playful, protective nature, making him a beloved yet formidable presence in his universe."



- type: entity
  id: ActionSpiderWebSteveBug
  name: Spider Web
  description: Spawns a web that slips your friends and foes.
  suffix: FoxS, Admin
  components:
  - type: InstantAction
    icon: Interface/Actions/web.png
    event: !type:SpiderWebActionEvent
    useDelay: 7


- type: emoteSounds
  id: UnisexArachnidSteveBug
  params:
    variation: 0.125
  sounds:
    Scream:
      path: /Audio/Voice/Arachnid/arachnid_scream.ogg
    Hiss:
      path: /Audio/Voice/Arachnid/arachnid_scream.ogg
    Laugh:
      path: /Audio/Voice/Arachnid/arachnid_laugh.ogg
    Chitter:
      path: /Audio/Voice/Arachnid/arachnid_chitter.ogg
    Click:
      path: /Audio/Voice/Arachnid/arachnid_click.ogg
    MonkeyScreeches:
      collection: MonkeyScreeches
    # Weh:
      # collection: Weh
    # Hew:
      # collection: Hew
    # SteveBugWeh:
      # collection: Weh
    # SteveBugHew:
      # collection: Hew
    Honk:
      collection: BikeHorn
    Gasp:
      collection: MaleGasp
    DefaultDeathgasp:
      collection: DeathGasp
    Belch:
      collection: Belch
    HarpyPew:
      collection: HarpyPews
    HarpyBeep:
      collection: HarpyBeeps
    Snarl:
      collection: VulpkaninSnarls
    Bark:
      collection: VulpkaninBarks
    Whine:
      collection: VulpkaninWhines
    Howl:
      collection: VulpkaninHowls
    Awoo:
      collection: VulpkaninHowls
    Growl:
      collection: VulpkaninGrowls
    Purr:
      collection: HarpyPurrs
    # avali sounds
    Trill:
      collection: FelionoidTrills
    Scree:
      collection: ResomiScrees
    Call:
      collection: ResomiCalls
    Squawk:
      collection: ResomiSquawk



# - type: emote
  # id: SteveBugWeh
  # name: chat-emote-name-weh
  # category: Vocal
  # icon: Interface/Emotes/weh.png
  # whitelist:
    # components:
    # - Vocal
  # chatMessages: ["chat-emote-msg-weh"]
  # chatTriggers:
    # - weh
    # - wehs
    # - wehed
    # - wehing

# - type: emote
  # id: SteveBugHew
  # name: chat-emote-name-hew
  # category: Vocal
  # icon: Interface/Emotes/hew.png
  # whitelist:
    # components:
    # - Vocal
  # chatMessages: ["chat-emote-msg-hew"]
  # chatTriggers:
    # - hew
    # - hews
    # - hewed
    # - hewing
